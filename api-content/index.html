{"posts":[{"title":"JDBC笔记","content":"概念 Java Database Connectivity 也就是用java来操作数据库。 我们希望通过统一的一套Java代码（JDBC）操作所有的关系型数据库（MySQL，Oracle，DB2等）。因此sun公司定义了一套接口，然后各大数据库公司来进行实现，我们就可以通过调用这些接口中的方法来操作不同公司的数据库。 使用步骤 导入jar包 注册驱动 Class.forname(&quot;com.mysql.jdbc.Driver&quot;); 获取数据库连接对象 connection String url = &quot;jdbc:mysql://localhost:3306/day24&quot;; Connection connection = DriverManager.getConnection(url, &quot;root&quot;, &quot;password&quot;); 定义sql string sql = &quot;update account set balance = 500 where id =1&quot;; 获取执行sql语句的对象sql statement stmt = connection.createStatement(); 执行sql，接受返回结果 int count = stmt.executeUpdate(sql); 处理结果 System.out.println(count); 释放资源 stmt.close(); connection.close(); JDBC核心API详解 DriverManager类 注册驱动 通过查看源码，我们发现源代码通过静态代码块来注册的数据库驱动，因此我们只需要适合用Class.forname()将Driver类加载进内存，它就可以自动注册了。（注意：MySQL5以后不需要注册也可以自动加载） public class Driver implements java.sql.Driver { public Driver() throws SQLException { } static { try { DriverManager.registerDriver(new Driver()); //注册数据库驱动 } catch (SQLException var1) { throw new RuntimeException(&quot;Can't register driver!&quot;); } } } 获取数据库连接 方法：static Connection getConnection(String url, String user, String password); Connection类 获取sql的对象 Statement createStatement() PreparedStatement prepareStatement(String sql) 管理事务 开启事务：setAutoCommit(boolean autoCommit) ：调用该方法设置参数为false，即开启事务 提交事务：commit() 回滚事务：rollback() Statement类 boolean execute(String sql) ：可以执行任意的sql （不常用） int executeUpdate(String sql) ：执行DML（insert、update、delete）语句、DDL(create，alter、drop)语句 返回值：返回该语句执行影响的行数，可以通过这个影响的行数判断DML语句是否执行成功 返回值&gt;0的则执行成功，反之，则失败。 ResultSet executeQuery(String sql) ：执行DQL（select)语句。 代码： Statement stmt = null; Connection conn = null; try { //1. 注册驱动 Class.forName(&quot;com.mysql.jdbc.Driver&quot;); //2. 定义sql String sql = &quot;insert into account values(null,'王五',3000)&quot;; //3.获取Connection对象 conn = DriverManager.getConnection(&quot;jdbc:mysql:///db3&quot;, &quot;root&quot;, &quot;root&quot;); //4.获取执行sql的对象 Statement stmt = conn.createStatement(); //5.执行sql int count = stmt.executeUpdate(sql);//影响的行数 //6.处理结果 System.out.println(count); if(count &gt; 0){ System.out.println(&quot;添加成功！&quot;); }else{ System.out.println(&quot;添加失败！&quot;); } } catch (ClassNotFoundException e) { e.printStackTrace(); } catch (SQLException e) { e.printStackTrace(); }finally { //stmt.close(); //7. 释放资源 //避免空指针异常 if(stmt != null){ try { stmt.close(); } catch (SQLException e) { e.printStackTrace(); } } if(conn != null){ try { conn.close(); } catch (SQLException e) { e.printStackTrace(); } } } ResultSet类 封装查询结果。 boolean next(): 游标向下移动一行，判断当前行是否是最后一行末尾。 getXxx(参数):获取数据 Xxx：代表数据类型 如： int getInt() , String getString() 参数： 1. int：代表列的编号,从1开始 如： getString(1) 2. String：代表列名称。 如： getDouble(&quot;balance&quot;) 使用步骤： 1. 游标向下移动一行 2. 判断是否有数据 3. 获取数据 PreparedStatement 执行sql的对象。 SQL注入问题：在拼接sql时，有一些sql的特殊关键字参与字符串的拼接。会造成安全性问题 输入用户随便，输入密码：a' or 'a' = 'a sql：select * from user where username = 'fhdsjkf' and password = 'a' or 'a' = 'a' 解决sql注入问题：使用PreparedStatement对象来解决 预编译的SQL：参数使用?作为占位符 步骤： 1. 导入驱动jar包 2. 注册驱动 3. 获取数据库连接对象 Connection 4. 定义sql * 注意：sql的参数使用？作为占位符。 如：select * from user where username = ? and password = ?; 5. 获取执行sql语句的对象 PreparedStatement Connection.prepareStatement(String sql) 6. 给？赋值： * 方法： setXxx(参数1,参数2) * 参数1：？的位置编号 从1 开始 * 参数2：？的值 7. 执行sql，接受返回结果，不需要传递sql语句 8. 处理结果 9. 释放资源 JDBC管理事务 事务：一个包含多个步骤的业务操作。如果这个业务操作被事务管理，则这多个步骤要么同时成功，要么同时失败。 操作： 开启事务 提交事务 回滚事务 使用Connection对象来管理事务 开启事务：setAutoCommit(boolean autoCommit) ：调用该方法设置参数为false，即开启事务 在执行sql之前开启事务 提交事务：commit() 当所有sql都执行完提交事务 回滚事务：rollback() 在catch中回滚事务 ","link":"https://PoorDogsHome.github.io/post/jdbc-bi-ji/"},{"title":"安卓中的布局组件","content":"布局 布局组件是安卓中最常用的界面显示组件。布局中的所有元素均使用 View 和 ViewGroup 对象的层次结构进行构建。布局结构如图所示。 View 对象通常称为“微件”，可以是众多子类之一，例如 Button 或 TextView。ViewGroup 对象通 常称为“布局”，可以是提供其他布局结构的众多类型之一，例如 LinearLayout 或 ConstraintLayout。 其实也就是说“微件”是可以镶嵌在“布局”之中的，而布局可以定义各个“微件”之间的位置关系。 而想要使用布局组件的话，需要在xml文件中进行声明： &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:orientation=&quot;vertical&quot; &gt; &lt;TextView android:id=&quot;@+id/text&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:text=&quot;Hello, I am a TextView&quot; /&gt; &lt;Button android:id=&quot;@+id/button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:text=&quot;Hello, I am a Button&quot; /&gt; &lt;/LinearLayout&gt; 声明之后，要在java代码中通过调用 setContentView()，并以 R.layout.layout_file_name 形式向应用代码传递布局资源的引用： public void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.main_layout); } ","link":"https://PoorDogsHome.github.io/post/an-zhuo-zhong-de-bu-ju-zu-jian/"},{"title":"常用AndroidStudio 快捷键","content":"快捷键 日常积累一下AndroidStudio的快捷键，方便以后查询 Ctrl+鼠标左键 可以查看选中的类或者方法。 Alt+鼠标左键 可以同时选中多行。 Ctrl+F 当前文档查找；Ctrl+Shift+F 全部的module里查找。 Ctrl + R 在当前文件中替换输入的内容；Ctrl + Shift + R 全局替换。 Ctrl+Z 撤销；Ctrl+Shift+Z 反撤销。 Ctrl+Enter 代码自动修正，想到与eclipse里的Ctrl+1。 Ctrl+Q 显示一个类或者方法的声明。 Ctrl+Y 删除光标所在行。 Ctrl+U 跳到父类中去。 Ctrl+D 快速复制行。 Ctrl+J 弹出快捷代码框。对于一些常用的代码Android Studio中进行了封装，直接选中即可快速生成，在开发中十分实用。 Ctrl+F12 查看类中的所有变量、方法、内部类、内部接口。 Ctrl+O 查看父类中的方法， 并可以选择父类方法进行覆盖。 Ctrl+Alt+L 格式化代码，代码自动排版。 Ctrl+Shift+N 快速查找当前工程下的所有文件。 Ctrl+Alt+B 跳转到抽象方法的实现。 Ctrl+Shift+↑↓ 上下移动代码。如果是方法中的代码，只能在方法内部一定，不能跨方法。 Shift+Alt+↑↓ 上下移动代码。可以跨方法移动。 Ctrl+Alt+T 选中一块代码，同时按下Ctrl、Alt和T键，弹出“包裹”弹出框，选择需要包裹的类型即可包裹选中的代码。 Ctrl+Alt+H 点中某一个方法按下这个快捷键，在左边栏上弹出此方法的调用关系，此快捷键在开发中十分常用。 ","link":"https://PoorDogsHome.github.io/post/androidstudio-kuai-jie-jian/"}]}